function load_input_code_multiple_languages(e,n,t){load_input_code(e,n,t),setDropDownWithTheRightLanguage(n,t[n+"/language"]),changeSubmissionLanguage(n)}function setDropDownWithTheRightLanguage(e,n){document.getElementById(e+"/language").value=n}function changeSubmissionLanguage(e){const n=getLanguageForProblemId(e),t=CodeMirror.findModeByName(n),o=codeEditors[e];o.setOption("inginiousLanguage",getInginiousLanguageForProblemId(e)),o.setOption("mode",t.mime),o.setOption("gutters",["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"]),o.setOption("lint",{async:!0}),CodeMirror.autoLoadMode(o,t.mode)}function getLanguageForProblemId(e){return convertInginiousLanguageToCodemirror(getInginiousLanguageForProblemId(e))}function getInginiousLanguageForProblemId(e){const n=document.getElementById(e+"/language");return null==n?"plain":n.options[n.selectedIndex].value}function convertInginiousLanguageToCodemirror(e){return{java7:"java",java8:"java",cpp:"cpp",cpp11:"cpp",c:"c",c11:"c",python3:"python",vhdl:"vhdl",verilog:"verilog"}[e]}function studio_init_template_code_multiple_languages(e,n,t){"type"in t&&$("#type-"+n,e).val(t.type),"optional"in t&&t.optional&&$("#optional-"+n,e).attr("checked",!0),"languages"in t&&jQuery.each(t.languages,function(t,o){o&&$("#"+t+"-"+n,e).attr("checked",!0)})}function studio_init_template_notebook_file(e,n,t){"type"in t&&$("#type-"+n,e).val(t.type)}function load_input_notebook_file(e,n,t){load_input_file(e,n,t);const o=$("form#task").attr("action")+"?submissionid="+e+"&questionid="+n;$.ajax({url:o,method:"GET",dataType:"json",success:function(e){render_notebook(e)}}),highlight_code()}function studio_init_template_code_file_multiple_languages(e,n,t){"max_size"in t&&$("#maxsize-"+n,e).val(t.max_size),"allowed_exts"in t&&$("#extensions-"+n,e).val(t.allowed_exts.join()),"languages"in t&&jQuery.each(t.languages,function(t,o){o&&$("#"+t+"-"+n,e).attr("checked",!0)})}function load_input_code_file_multiple_languages(e,n,t){load_input_file(e,n,t),setDropDownWithTheRightLanguage(n,t[n+"/language"])}let selected_all_languages=!1;function toggle_languages_checkboxes(){selected_all_languages=!selected_all_languages,$(".checkbox_language").prop("checked",selected_all_languages);let e="Select all";selected_all_languages&&(e="Unselect All"),$("#toggle_select_languages_button").text(e)}const original_studio_subproblem_delete=this.studio_subproblem_delete;this.studio_subproblem_delete=(e=>{original_studio_subproblem_delete(e),toggle_display_new_subproblem_option()});const original_studio_create_new_subproblem=this.studio_create_new_subproblem;function toggle_display_new_subproblem_option(){const e=$("#accordion"),n=$("#new_subproblem");e.children().length?n.hide():n.show()}this.studio_create_new_subproblem=(()=>{original_studio_create_new_subproblem(),toggle_display_new_subproblem_option()});const render_notebook=function(e){const n=$("#notebook-holder")[0];$("#notebook-holder").hide();const t=this.notebook=nb.parse(e);for(;n.hasChildNodes();)n.removeChild(n.lastChild);n.appendChild(t.render()),highlight_code(),$("#notebook-holder").show()};function notebook_start_renderer(){$("#task_alert").after('<div class="DivToScroll DivWithScroll" id="notebook-holder" hidden></div>');try{const e=$("input[name="+getProblemId()+"]")[0];e.onchange=function(e){const n=this.files[0];if(void 0===n||"ipynb"!==n.name.split(".")[1])return $("#notebook-holder").html(""),void $("#notebook-holder").hide();!function(e){const n=new FileReader;n.onload=function(e){const n=JSON.parse(this.result);render_notebook(n)},n.readAsText(e)}(n)},e.onclick=function(){this.value=null,$("#notebook-holder").html(""),$("#notebook-holder").hide()}}catch(e){}}function sendSubmissionAnalytics(){$("#task-submit").on("click",function(){if(loadingSomething)return;if(!taskFormValid())return;if(!new Set(["multiple_languages","Data Science","Notebook","HDL"]).has(getTaskEnvironment()))return;const e={Notebook_notebook_file:[`${getTaskEnvironment()}_submission`,`${getTaskEnvironment()} submission`],multiple_languages_code_multiple_languages:["multiple_languages_code_multiple_languages","Multiple languages - Code submission"],multiple_languages_code_file_multiple_languages:["multiple_languages_code_file_multiple_languages","Multiple languages - File submission"],"Data Science_code_multiple_languages":["data_science_code_multiple_languages","Data Science - Code submission"],"Data Science_code_file_multiple_languages":["data_science_code_file_multiple_languages","Data Science - File submission"],HDL_code_multiple_languages:["HDL_code_multiple_languages","HDL - Code submission"],HDL_code_file_multiple_languages:["HDL_code_file_multiple_languages","HDL - File submission"]};$.post("/api/analytics/",{service:{key:e[`${getTaskEnvironment()}_${getProblemType()}`][0],name:e[`${getTaskEnvironment()}_${getProblemType()}`][1]},course_id:getCourseId()})})}function highlight_code(){Prism.highlightAll()}function updateDiffBlock(e,n){$("#"+e).html(parseOutputDiff(n))}function createDownloadLink(e,n){const t=`<a ${'class="btn-link" download="'+e+'"'} href="${`/course/${getCourseId()}/${getTaskId()}/${e}`}" target="_blank">Download</a>`;document.getElementById(e+"_download_link").innerHTML=t+"<br/><br/>"}function parseOutputDiff(e){let n=[],t=e.split("\n");n.push('<strong>Legend:</strong> <span class="diff-missing-output">Only in the expected output</span> <span class="diff-additional-output">Only in your output</span> <span class="diff-common">Common</span> <span class="diff-position-control">Context information</span>');for(let e=0;e<t.length;++e){let o=t[e],i=null;if(o.startsWith("---"))i='<span class="diff-missing-output">'+o.substring(4)+"</span>";else if(o.startsWith("+++"))i='<span class="diff-additional-output">'+o.substring(4)+"</span>";else if(o.startsWith("@@"))i='<span class="diff-position-control">'+o+"</span>";else if(o.startsWith("-"))i='<span class="diff-missing-output">'+o.substring(1)+"</span>";else if(o.startsWith("+"))i='<span class="diff-additional-output">'+o.substring(1)+"</span>";else if(o.startsWith(" "))i='<span class="diff-common">'+o.substring(1)+"</span>";else if(o.startsWith("..."))i='<span class="diff-position-control">'+o+"</span>";else{if(""!==o)throw new Error("Unable to parse diff line: "+o);i=o}n.push(i)}return n.join("\n")}jQuery(document).ready(function(){toggle_display_new_subproblem_option(),notebook_start_renderer(),sendSubmissionAnalytics()});