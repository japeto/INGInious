{"ast":null,"code":"import _classCallCheck from\"/usr/lib/python3.5/site-packages/inginious/frontend/plugins/problem_bank/react_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/usr/lib/python3.5/site-packages/inginious/frontend/plugins/problem_bank/react_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/usr/lib/python3.5/site-packages/inginious/frontend/plugins/problem_bank/react_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/usr/lib/python3.5/site-packages/inginious/frontend/plugins/problem_bank/react_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/usr/lib/python3.5/site-packages/inginious/frontend/plugins/problem_bank/react_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Autosuggest from'react-autosuggest';import SweetAlert from'react-bootstrap-sweetalert';import{Row,Col}from'react-bootstrap';import'./index.css';var CourseAutosuggest=/*#__PURE__*/function(_React$Component){_inherits(CourseAutosuggest,_React$Component);var _super=_createSuper(CourseAutosuggest);function CourseAutosuggest(props){var _this;_classCallCheck(this,CourseAutosuggest);_this=_super.call(this,props);_this.getSuggestions=function(value){var normalizedValue=value.toUpperCase();return _this.props.courses.filter(function(course){return course.name.toUpperCase().startsWith(normalizedValue)||course.id.toUpperCase().startsWith(normalizedValue);});};_this.renderSuggestion=function(suggestion,_ref){var query=_ref.query,isHighlighted=_ref.isHighlighted;return/*#__PURE__*/React.createElement(\"span\",null,suggestion.name);};_this.onChange=function(event,_ref2){var newValue=_ref2.newValue;_this.setState({value:newValue});};_this.onConfirm=function(){var courseId=\"\";if(_this.state.selectedCourse.name.toUpperCase()===_this.state.value.toUpperCase()){courseId=_this.state.selectedCourse.id;}var callbackOnClick=_this.props.callbackOnClick;callbackOnClick(courseId);_this.setState({value:'',selectedCourse:{id:'',name:''},show:false});};_this.getSuggestionValue=function(suggestion){_this.setState({selectedCourse:suggestion});return suggestion.name;};_this.state={suggestions:[],value:'',selectedCourse:{id:'',name:''},show:false};_this.open=_this.open.bind(_assertThisInitialized(_this));_this.close=_this.close.bind(_assertThisInitialized(_this));return _this;}_createClass(CourseAutosuggest,[{key:\"open\",value:function open(){this.setState({show:true});}},{key:\"close\",value:function close(){this.setState({show:false});}},{key:\"render\",value:function render(){var _this2=this;var inputProps={placeholder:'Type a course name or course id',value:this.state.value,onChange:this.onChange};return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:this.props.mdInput},/*#__PURE__*/React.createElement(Autosuggest,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:function onSuggestionsFetchRequested(_ref3){var value=_ref3.value;return _this2.setState({suggestions:_this2.getSuggestions(value)});},onSuggestionsClearRequested:function onSuggestionsClearRequested(){return _this2.setState({suggestions:[]});},getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:inputProps})),/*#__PURE__*/React.createElement(Col,{md:this.props.mdButton},/*#__PURE__*/React.createElement(\"button\",{onClick:this.open,className:\"btn btn-primary\",disabled:!this.state.value},this.props.messageButton)),/*#__PURE__*/React.createElement(SweetAlert,{warning:true,showCancel:true,confirmBtnText:\"Yes!\",confirmBtnBsStyle:\"warning\",cancelBtnBsStyle:\"danger\",show:this.state.show,title:this.props.alertTitle,onConfirm:this.onConfirm,onCancel:this.close},this.props.alertText),/*#__PURE__*/React.createElement(Col,{mdHidden:6}));}}]);return CourseAutosuggest;}(React.Component);export default CourseAutosuggest;","map":{"version":3,"sources":["/usr/lib/python3.5/site-packages/inginious/frontend/plugins/problem_bank/react_app/src/course_autosuggest.jsx"],"names":["React","Autosuggest","SweetAlert","Row","Col","CourseAutosuggest","props","getSuggestions","value","normalizedValue","toUpperCase","courses","filter","course","name","startsWith","id","renderSuggestion","suggestion","query","isHighlighted","onChange","event","newValue","setState","onConfirm","courseId","state","selectedCourse","callbackOnClick","show","getSuggestionValue","suggestions","open","bind","close","inputProps","placeholder","mdInput","mdButton","messageButton","alertTitle","alertText","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Autosuggest from 'react-autosuggest';\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport {Row, Col} from 'react-bootstrap';\nimport './index.css';\n\nclass CourseAutosuggest extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            suggestions: [],\n            value: '',\n            selectedCourse: {\n                id: '',\n                name: ''\n            },\n            show: false,\n        };\n        this.open = this.open.bind(this);\n        this.close = this.close.bind(this);\n    }\n\n    getSuggestions = (value) => {\n        const normalizedValue = value.toUpperCase();\n        return this.props.courses.filter((course) => {\n            return course.name.toUpperCase().startsWith(normalizedValue) ||\n                course.id.toUpperCase().startsWith(normalizedValue);\n        });\n    };\n\n    renderSuggestion = (suggestion, {query, isHighlighted}) => {\n        return (\n            <span>{suggestion.name}</span>\n        );\n    };\n\n    onChange = (event, {newValue}) => {\n        this.setState({\n            value: newValue\n        });\n    };\n\n    open() {\n        this.setState({show: true});\n    };\n\n    close() {\n        this.setState({show: false});\n    };\n\n    onConfirm = () => {\n        let courseId = \"\";\n        if (this.state.selectedCourse.name.toUpperCase() === this.state.value.toUpperCase()) {\n            courseId = this.state.selectedCourse.id;\n        }\n        const callbackOnClick = this.props.callbackOnClick;\n        callbackOnClick(courseId);\n        this.setState({\n            value: '',\n            selectedCourse: {\n                id: '',\n                name: ''\n            },\n            show: false\n        });\n    };\n\n    getSuggestionValue = (suggestion) => {\n        this.setState({\n            selectedCourse: suggestion\n        });\n        return suggestion.name\n    };\n\n    render() {\n        const inputProps = {\n            placeholder: 'Type a course name or course id',\n            value: this.state.value,\n            onChange: this.onChange\n        };\n\n        return (\n\n            <Row>\n                <Col md={this.props.mdInput}>\n                    <Autosuggest\n                        suggestions={this.state.suggestions}\n                        onSuggestionsFetchRequested={({value}) => this.setState({suggestions: this.getSuggestions(value)})}\n                        onSuggestionsClearRequested={() => this.setState({suggestions: []})}\n                        getSuggestionValue={this.getSuggestionValue}\n                        renderSuggestion={this.renderSuggestion}\n                        inputProps={inputProps}\n                    />\n                </Col>\n                <Col md={this.props.mdButton}>\n                    <button onClick={this.open} className=\"btn btn-primary\" disabled={!this.state.value}>\n                        {this.props.messageButton}\n                    </button>\n                </Col>\n                <SweetAlert\n                    warning\n                    showCancel\n                    confirmBtnText={\"Yes!\"}\n                    confirmBtnBsStyle={\"warning\"}\n                    cancelBtnBsStyle={\"danger\"}\n                    show={this.state.show}\n                    title={this.props.alertTitle}\n                    onConfirm={this.onConfirm}\n                    onCancel={this.close}\n                >\n                    {this.props.alertText}\n                </SweetAlert>\n                <Col mdHidden={6}/>\n            </Row>\n        );\n    }\n}\n\nexport default CourseAutosuggest;\n"]},"metadata":{},"sourceType":"module"}