<div id="notebook_grader_test_form_modal" class="modal fade">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h3 class="modal-title"><i class="fa fa-plus-circle">$:_("Add a test")</i></h3>
                <hr>
                <div class="text-right">
                    <button class='btn btn-primary notebook_grader_submit_test_form'>$:_("Save")</button>
                </div>
            </div>
            <div class="modal-body text-justify">
                <div class="alert alert-danger" role="alert" id="test_case_alert" hidden></div>
                <div class="row">
                    <div class="form-group col-xs-12">
                        <div class="col-xs-8">
                            <label for="notebook_grader_test_name" class="col-xs-4 control-label">
                                $:_("Test name")*
                                <i class="fa fa-question-circle" title="Name to identify the test"
                                   data-toggle="tooltip"></i>
                            </label>
                            <input type="text" class="form-control" id="notebook_grader_test_name">
                        </div>
                        <div class="col-xs-4">
                            <label for="notebook_grader_test_weight" class="col-xs-4 control-label">$:_("Weight")*</label>
                            <input type="number" class="form-control" id="notebook_grader_test_weight"
                                   placeholder="1" min="0" value="1">
                        </div>
                    </div>
                </div>
                <div class="form-group col-xs-12">
                    <label for="notebook_grader_test_setup_code" class="control-label">
                        $:_("Setup code")
                        <i class="fa fa-question-circle" title="Python3.6 code executed before running test cases."
                           data-toggle="tooltip"></i>
                    </label>
                    <textarea data-x-language="python" data-x-lines="4" class="code-editor form-control"
                              id="notebook_grader_test_setup_code" name="notebook_grader_test_setup_code"></textarea>
                </div>
                <hr>
                <h4 align="center">$:_("Test cases")</h4>
                <div class="row">
                    <div class="form-group col-xs-12">
                        <div class="col-xs-5">
                            <label for="notebook_grader_test_case_code">
                                $:_("Case code")*
                                <i class="fa fa-question-circle"
                                   title="Python3.6 code to test student's notebook. This code is run like in Python
                                   Shell, thus there are some lines that might generate an output as in Python Shell.
                                   Then, the first line that generates an output will be compared with the expected
                                   output."
                                   data-toggle="tooltip"></i>
                            </label>
                            <textarea data-x-language="python" data-x-lines="4" class="code-editor form-control"
                                      name="notebook_grader_test_case_code"
                                      id="notebook_grader_test_case_code"
                                      style="display: none;"></textarea>
                        </div>
                        <div class="col-xs-5">
                            <label for="notebook_grader_test_case_expected_output">
                                $:_("Case expected output")*
                                <i class="fa fa-question-circle" title="Expected output of previous code."
                                   data-toggle="tooltip"></i>
                            </label>
                            <textarea class="form-control" rows="3"
                                      id="notebook_grader_test_case_expected_output"
                                      name="notebook_grader_test_case_expected_output"
                                      style="resize: vertical;"></textarea>
                        </div>
                        <div class="col-xs-2" style="display: flex; height: 70px;">
                            <button type="button" class="btn btn-success btn-block" style="align-self: flex-end;"
                                    onclick="notebook_grader_add_test_case_from_form();"><i class="fa fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="jumbotron">
                    <div id="notebook_grader_test_cases_header" style="display: none;">
                        <div class="form-group col-lg-12" style="text-align: center;">
                            <div class="col-lg-1"><label>$:_("ID")</label></div>
                            <div class="col-lg-5"><label>$:_("Code")</label></div>
                            <div class="col-lg-5"><label>$:_("Expected output")</label></div>
                            <div class="col-lg-1"><label>$:_("Options")</label></div>
                        </div>
                    </div>
                    <div id="notebook_grader_test_cases_container">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">$:_("Cancel")</button>
                <button class='btn btn-primary notebook_grader_submit_test_form'>$:_("Save")</button>
            </div>
        </div>
    </div>
</div>
<style>
    #notebook_grader_test_form_modal .CodeMirror {
        height: auto;
        border: 1px solid #ddd;
    }

    #notebook_grader_test_form_modal .CodeMirror-scroll {
        max-height: 150px;
        overflow: auto;
    }

    #notebook_grader_test_form_modal .CodeMirror pre {
        padding-left: 7px;
        line-height: 1.25;
    }
</style>